
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://e-racingbergamo.github.io/documentation/control_modules/powertrain/gestione_termica/">
      
      
        <link rel="prev" href="../../vehicle_dinamics/traction_control/">
      
      
        <link rel="next" href="../../battery_soc/SOC/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/simbolo_blu.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Gestione Termica Inverter - E-Racing bergamo docs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.0/dist/katex.min.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#gestione-termicapotenza" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="E-Racing bergamo docs" class="md-header__button md-logo" aria-label="E-Racing bergamo docs" data-md-component="logo">
      
  <img src="../../../assets/images/simbolo_blu.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            E-Racing bergamo docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Gestione Termica Inverter
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Passa al tema scuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Passa al tema scuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Passa al tema chiaro"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Passa al tema chiaro" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="E-Racing bergamo docs" class="md-nav__button md-logo" aria-label="E-Racing bergamo docs" data-md-component="logo">
      
  <img src="../../../assets/images/simbolo_blu.ico" alt="logo">

    </a>
    E-Racing bergamo docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Academy
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Academy
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Fondamenti di C
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Fondamenti di C
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../academy/fondamenti_di_c/sintassi_base_c/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sintassi di base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../academy/fondamenti_di_c/stdint/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tipi e Standard int
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../academy/fondamenti_di_c/visibilit%C3%A0_delle_variabili/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Visibilità variabili
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../academy/fondamenti_di_c/funzioni/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Funzioni
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../academy/fondamenti_di_c/strutture_controllo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Strutture di controllo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Memoria e Puntatori
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Memoria e Puntatori
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../academy/memoria_puntatori/puntatori/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Puntatori
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../academy/memoria_puntatori/strutture_base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Strutture dati base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Strutture Dati Avanzate
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Strutture Dati Avanzate
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../academy/strutture_dati/strutture_dinamiche/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Strutture dinamiche
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../academy/strutture_dati/linked_list/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linked list
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../academy/strutture_dati/binary_tree/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Binary tree
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Firmware Architecture
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Firmware Architecture
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../firmware_architecture/centralina/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Panoramica Centralina
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Driver & HAL
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Driver & HAL
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../firmware_architecture/driver_hal/adc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADC Config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Moduli di Controllo
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Moduli di Controllo
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Vehicle Dynamics
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Vehicle Dynamics
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../vehicle_dinamics/traction_control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Traction Control
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Powertrain
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Powertrain
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Gestione Termica Inverter
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Gestione Termica Inverter
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#algoritmo-i2t-integrale-termico" class="md-nav__link">
    <span class="md-ellipsis">
      
        Algoritmo \(I^2t\) (integrale termico)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#derating" class="md-nav__link">
    <span class="md-ellipsis">
      
        Derating
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#temperatura-liquido" class="md-nav__link">
    <span class="md-ellipsis">
      
        Temperatura liquido
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frenata-rigenerativa" class="md-nav__link">
    <span class="md-ellipsis">
      
        Frenata rigenerativa
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Battery Management
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Battery Management
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../battery_soc/SOC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    State Of Charge (SOC)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#algoritmo-i2t-integrale-termico" class="md-nav__link">
    <span class="md-ellipsis">
      
        Algoritmo \(I^2t\) (integrale termico)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#derating" class="md-nav__link">
    <span class="md-ellipsis">
      
        Derating
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#temperatura-liquido" class="md-nav__link">
    <span class="md-ellipsis">
      
        Temperatura liquido
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frenata-rigenerativa" class="md-nav__link">
    <span class="md-ellipsis">
      
        Frenata rigenerativa
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="gestione-termicapotenza">Gestione termica/potenza</h1>
<p>La massimizzazione della coppia erogabile è limitata dai vincoli termici del motore, tutti forniti dal datasheet del produttore del relativo modello. Il datasheet del motore AMK DD5-14-10-POW (in uso dal nostro team) indica una corrente nominale di stallo continuativo <span class="arithmatex">\(I_0\)</span> pari a 53,1 Arms. Tuttavia, per garantire la coppia richiesta per le accelerazioni repentine e per le alte velocità, è necessario operare in regime di sovraccarico, sfruttando correnti di picco fino a 105 Arms <span class="arithmatex">\(I_{max}\)</span>, che consentono di raggiungere valori di coppia significativamente superiori al valore nominale, nel nostro caso 21 Nm contro i 9,8 Nm nominali.</p>
<p>Il problema fondamentale risiede nella natura transitoria del sovraccarico. L'utilizzo di correnti superiori a <span class="arithmatex">\(I_0\)</span> genera un accumulo termico per effetto Joule che il sistema di raffreddamento non è in grado di smaltire istantaneamente. Se tale condizione persiste oltre un tempo critico, si rischia il danneggiamento irreversibile degli avvolgimenti o la smagnetizzazione dei magneti permanenti.</p>
<p>Per controllare questi limiti si utilizza l'algoritmo <span class="arithmatex">\(I^2t\)</span>, anche detto <strong>integrale termico</strong>. Tale modello permette di stimare in tempo reale l'energia termica accumulata nel motore, consentendo di sfruttare l'intera capacità di sovraccarico per periodi limitati, intervenendo con una riduzione della coppia solo all'approssimarsi della soglia critica definita dal costruttore.</p>
<h2 id="algoritmo-i2t-integrale-termico">Algoritmo <span class="arithmatex">\(I^2t\)</span> (integrale termico)</h2>
<p>Prima di cominciare a pensare all'algoritmo è bene tenere a mente alcuni dati importanti strettamente correlati al modello di motore impiegato:</p>
<ul>
<li><strong>Coppia nominale</strong>: 9,8 Nm</li>
<li><strong>Corrente di stallo continuo</strong>: <span class="arithmatex">\(I_{cont}\)</span> = 53,1 A, è la corrente che il motore può reggere e dissipare per un tempo indefinito perché il calore viene dissipato in tempo utile. Corrisponde ad una coppia nominale</li>
<li><strong>Coppia massima</strong>: 21 Nm</li>
<li><strong>Corrente massima</strong>: <span class="arithmatex">\(I_{max}\)</span> = 105 A, picco massimo assoluto consentito.</li>
<li><strong>Tempo massimo</strong> <span class="arithmatex">\(T_{lim}\)</span> a <span class="arithmatex">\(I_{max}\)</span> = 1,24 s. Quanto tempo il motore sopravvive al picco massimo.</li>
</ul>
<p><img alt="ciao" src="../tempo.png" /></p>
<p>L'algoritmo opera utilizzando come riferimento un <strong>bucket termico</strong>, che racchiude l'energia termica che viene contenuta nel motore. Il secchio ha una larghezza massima che rappresenta la quantità di calore che il motore riesce a sopportare prima di subire danni irrisolvibili e la smagnetizzazione dei magneti permanenti. L'unita di misura del <strong>budget termico</strong> è in <span class="arithmatex">\(A^2s\)</span> e si calcola come:</p>
<div class="arithmatex">\[E_{max}=(I^2_{max}-I^2_{cont})\times t_{lim}\]</div>
<p>Sostituendo i valori si ha <span class="arithmatex">\((105^2-53,1^2)\times1,24 = \mathbf{10.175 \, A^2s}\)</span>, valore che può raggiungere l'integratore prima che il motore si consideri surriscaldato.</p>
<p>Dopo aver calcolato il budget termico si inizia a misurare effettivamente il budget utilizzato secondo la stessa formula. Dato che il microcontrollore all'interno della vettura è un dispositivo a tempo discreto è opportuno definire un intervallo di tempo (<span class="arithmatex">\(\Delta t\)</span>) a cui eseguire la funzione che calcola l'energia termica generata o dissipata nel motore. Una frequenza che ci risulta ottimale è 100 Hz, quindi 10 ms tra una misura e l'altra.</p>
<p>Per il calcolo serve la corrente media erogata durante quel tempo, <span class="arithmatex">\(I_{feedback}\)</span></p>
<div class="arithmatex">\[\Delta_{term}=(I^2_{feedback}-I^2_{cont})\times \Delta t\]</div>
<p>Se <span class="arithmatex">\(I_{feedback}\)</span> è minore di <span class="arithmatex">\(I_{cont}\)</span>, l'energia risulterà negativa, quindi il motore sta dissipando il calore.
Come ultimo passo si aggiorna l'integratore:</p>
<div class="arithmatex">\[\text{Thermal Integrator} = \text{thermal integrator} + \Delta_{term}\]</div>
<h2 id="derating">Derating</h2>
<p>Non vogliamo che la coppia massima cali drasticamente dal massimo alla coppia nominale quando l'integratore arriva al 100%, ma si deve ridurre dolcemente la potenza erogata.</p>
<p>Ci sono principalmente due soglie importanti:</p>
<ul>
<li>La <strong>soglia warning</strong> contraddistingue il limite al quale si inizia a tagliare la coppia e corrisponde all'80% di <span class="arithmatex">\(E_{max}\)</span></li>
<li><strong>Soglia critica</strong> di stop: il bucket è pieno e il motore non può permettersi di accumulare altro calore per evitare danni permanenti, la coppia va tagliata al di sotto della nominale per permettere anche un raffreddamento</li>
</ul>
<p>Allo scopo di implementare il derating bisogna calcolare il limite <span class="arithmatex">\(I_{limit}\)</span> a ogni ciclo utilizzando le soglie.</p>
<ul>
<li>Se l'integratore è sotto all'80%, <span class="arithmatex">\(I_{limit}\)</span> = <span class="arithmatex">\(I_{max}\)</span>, quindi abbiamo la possibilità di erogare tutta la corrente disponibile.</li>
<li>Se è tra l'80% e il 100% bisogna abbassare linearmente la corrente da 105 A a 53 A. Per l'interpolazione si usa:</li>
</ul>
<p>$<span class="arithmatex">\(Factor = \frac{\text{integrator} - \text{Soglia}_{warn}}{\text{Soglia}_{crit} - \text{Soglia}_{warn}}\)</span>$</p>
<p>Dove factor va da 0 a 1 man mano che il motore si scalda</p>
<p>$<span class="arithmatex">\(I_{limit} = I_{max} - Factor \times (I_{max} - I_{cont})\)</span>$</p>
<p><img alt="temp" src="../temperatura.png" /></p>
<h2 id="temperatura-liquido">Temperatura liquido</h2>
<p>Un aspetto importante da tenere in considerazione è la temperatura del liquido di raffreddamento all'interno del circuito: se il liquido si trova ad una temperatura di 60°C non condurrà calore efficientemente come se fosse a 20°C o 40°C.</p>
<p>Bisogna aggiustare il bucket per tenere in considerazione la temperatura iniziale dell'acqua, un <span class="arithmatex">\(\Delta t\)</span> più basso tra fluido e motori diventa un problema perché abbiamo meno margine prima di raggiungere la <span class="arithmatex">\(T_{limit}\)</span>.</p>
<p><strong>Soluzione</strong>
Invece di inizializzare a 0 il bucket, bisogna riempirlo ad un valore che riflette la temperatura attuale del motore.</p>
<p>Definendo la temperatura iniziale del motore a <span class="arithmatex">\(T_{start}\)</span>:</p>
<div class="arithmatex">\[\text{Thermal Integrator} = \text{ThermalLimit}\times\frac{T_{start}-T_{coolant}}{T_{max\_motor}-T_{coolant}}\]</div>
<p>Logicamente, se la capacità di smaltire il calore del liquido è ridotta, bisogna aggiustare il derating per compensare la perdita di efficienza. Quello che ci interessa nello specifico è la corrente che il motore può sopportare continuativamente all'attuale temperatura del fluido <span class="arithmatex">\(I_{cont\_actual}\)</span>:</p>
<div class="arithmatex">\[I_{cont\_actual} = I_{nominale} \times \sqrt{\frac{T_{max} - T_{coolant}}{T_{max} - T_{nominale}}}\]</div>
<p>l modello base è stato esteso introducendo un fattore di derating dipendente dalla temperatura del fluido di raffreddamento <span class="arithmatex">\(T_{coolant}\)</span>. Poiché la capacità di dissipazione termica è proporzionale al gradiente termico <span class="arithmatex">\(\Delta T\)</span>, la corrente di stallo continuativo <span class="arithmatex">\(I_{cont}\)</span> viene ricalcolata dinamicamente ad ogni ciclo di controllo. Questo previene il surriscaldamento in condizioni di raffreddamento degradato (es. radiatori caldi a fine gara).</p>
<h2 id="frenata-rigenerativa">Frenata rigenerativa</h2>
<p>Durante la frenata rigenerativa il problema termico è esattamente lo stesso, sia che la corrente abbia segno negativo che positivo non cambia assolutamente nulla. Il motivo sta nel fatto che la corrente viene elevata al quadrato, quindi che si abbia un corrente di +40A o -40A il risultato sarà lo stesso: gli avvolgimenti si riscaldano.</p>
<p>Il nuovo problema da considerare è la capacità di ricarica della batteria. Solitamente le celle hanno due limiti di corrente diversi per carica e scarica. Il limite massimo in scarica è dettato dalla <span class="arithmatex">\(I_{max\_discharge}\)</span> dei motori che vale 105A, mentre i limite in carica è dettato dalla capacità della batteria <span class="arithmatex">\(I_{max\_charge}\)</span> che vale 16A. Questo dato è stato recuperato dal datasheet delle celle che utilizziamo, ricordando che con 4 in parallelo si somma (la singola è 4A).</p>
<p><img alt="charge_characteristics" src="../../battery_soc/charge_characteristics.png" /></p>
<div class="admonition danger">
<p class="admonition-title">Limite batteria</p>
<p>Il datasheet mostra che si può arrivare ad una <span class="arithmatex">\(I_{max\_charge}\)</span> di 19.6A, ma se ci arriviamo esplode tutto. NON si fa.</p>
</div>
<p>Un altra cosa da tenere in considerazione è l'aumento del DC voltage in relazione all'assorbimento di corrente della batteria. Se il pacco è carico al 100% e freniamo generando 16A, l'assorbimento è ridotto è la tensione sale, questo comportamento dovrebbe essere tenuto in considerazione dall'inverter che taglia la coppia di frenata in caso di DC voltage troppo alto, ma io non mi fido e mi sembra il caso di tenerlo in conto quando facciamo i nostri calcoli.</p>
<h1 id="hjfhfhhjghj">hjfhfhhjghj</h1>
<h2 id="fghfyfhggfh">fghfyfhggfh</h2>
<div class="arithmatex">\[I_{slkdjfslkdjflskjdf}^{dfskjdfhskdjhfsk}\frac{fjhsakdf}{askjhfjkasha}\Delta\]</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>